(this["webpackJsonpmortgage-form"]=this["webpackJsonpmortgage-form"]||[]).push([[0],{10:function(e,t,a){},11:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(3),l=a.n(o),c=a(1),m=(a(10),function(e,t){e.value=e.value.replace(/[^0-9]/g,""),+e.value.replace(/\s/g,"")<=t?(e.value=e.value.replace(/^0+/,""),e.value=e.value.replace(/(\..*)\./g,"$1")):(e.value=t,e.value=e.value.replace(/(\..*)\./g,"$1")),e.value=e.value.replace(/\B(?=(\d{3})+(?!\d))/g," ")}),u=function(e){var t=e.loanBody,a=e.monthlyPayment,r=e.requiredIncome,o=e.overpayment;return n.a.createElement("div",{className:"mortgage-results"},n.a.createElement("div",{className:"mortgage-results__item"},n.a.createElement("p",null,"\u0422\u0435\u043b\u043e \u043a\u0440\u0435\u0434\u0438\u0442\u0430"),n.a.createElement("b",null,t||"0"," \u20bd")),n.a.createElement("div",{className:"mortgage-results__item"},n.a.createElement("p",null,"\u0415\u0436\u0435\u043c\u0435\u0441\u044f\u043d\u044b\u0439 \u043f\u043b\u0430\u0442\u0435\u0436"),n.a.createElement("b",null,a||"0"," \u20bd")),n.a.createElement("div",{className:"mortgage-results__item"},n.a.createElement("p",null,"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0439 \u0434\u043e\u0445\u043e\u0434"),n.a.createElement("b",null,r||"0"," \u20bd")),n.a.createElement("div",{className:"mortgage-results__item"},n.a.createElement("p",null,"\u041f\u0435\u0440\u0435\u043f\u043b\u0430\u0442\u0430"),n.a.createElement("b",null,o||"0"," \u20bd")))},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"0",n={loanBody:0,monthlyPayment:0,overpayment:0,requiredIncome:0},o=12*+a,l=function(e,t){var a=+e.replace(/\s/g,""),r=+t.replace(/\s/g,""),o=Math.round(a-r);n.loanBody="number"==typeof o&&o>=0?o.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0"},c=function(e,t){var a=+e.replace(/\s/g,""),r=+n.loanBody.replace(/\s/g,""),o=Math.round(r*(a/1200+a/1200/(Math.pow(1+a/1200,t)-1)));n.monthlyPayment="number"==typeof o&&o>=0&&o!==1/0?o.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0"},m=function(){var e=n.monthlyPayment.replace(/\s/g,""),t=Math.round(+e/3*5);n.requiredIncome="number"==typeof t&&t>=0&&t!==1/0?t.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0"},u=function(e,t,a){var r=+e.replace(/\s/g,""),o=+t.replace(/\s/g,""),l=n.monthlyPayment.replace(/\s/g,""),c=Math.round(l*a-r+o);n.overpayment="number"==typeof c&&c>=0&&r>o?c.toString().replace(/\B(?=(\d{3})+(?!\d))/g," "):"0"};return l(e,t),c(r,o),m(),u(e,t,o),n},i=function(){var e=localStorage.getItem("price"),t=localStorage.getItem("part"),a=localStorage.getItem("time"),o=localStorage.getItem("percent"),l=Object(r.useState)(e||"0"),i=Object(c.a)(l,2),p=i[0],s=i[1],f=Object(r.useState)(t||"0"),_=Object(c.a)(f,2),d=_[0],v=_[1],h=Object(r.useState)(a||"0"),E=Object(c.a)(h,2),y=E[0],b=E[1],S=Object(r.useState)(o||"0"),I=Object(c.a)(S,2),N=I[0],j=I[1],O=Object(r.useState)({loanBody:0,monthlyPayment:0,requiredIncome:0,overpayment:0}),B=Object(c.a)(O,2),k=B[0],q=B[1],P=Object(r.useState)(!1),C=Object(c.a)(P,2),M=C[0],w=C[1],A=Object(r.useState)(!1),D=Object(c.a)(A,2),J=D[0],$=D[1],x=Object(r.useState)("mortgage-form__lock mortgage-form__lock_opened"),z=Object(c.a)(x,2),F=z[0],G=z[1];Object(r.useEffect)((function(){return q(g(p,d,y,N))}),[p,d,y,N]),Object(r.useEffect)((function(){var e=+p.replace(/\s/g,"");J&&v(Math.round(+e*J/100).toString().replace(/\B(?=(\d{3})+(?!\d))/g," "))}),[p,J]);var H=function(e){$(e),w(!0),G("mortgage-form__lock mortgage-form__lock_locked")},K=function(){return n.a.createElement("button",{onClick:function(e){e.preventDefault(),localStorage.setItem("price",p),localStorage.setItem("part",d),localStorage.setItem("time",y),localStorage.setItem("percent",N)}},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c")},L=function(){return n.a.createElement("button",{onClick:function(e){e.preventDefault(),s(""),v(""),b(""),j(""),q({loanBody:0,monthlyPayment:0,requiredIncome:0,overpayment:0}),w(!1),$(!1),document.querySelectorAll("input").forEach((function(e){return e.value=""})),document.querySelectorAll('input[name="anchor"]').forEach((function(e){return e.checked=!1}))}},"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c")},Q=function(){return n.a.createElement("div",{className:F,onClick:function(e){M&&(w(!1),$(!1),G("mortgage-form__lock mortgage-form__lock_opened"),document.querySelectorAll('input[name="anchor"]').forEach((function(e){return e.checked=!1})))}})};return n.a.createElement("div",null,n.a.createElement("form",{className:"mortgage-form"},n.a.createElement("div",{className:"mortgage-form__input mortgage-form__input_rub"},n.a.createElement("label",null,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"),n.a.createElement("input",{onInput:function(e){m(e.target,1e10),s(e.target.value)},placeholder:"\u0414\u043e 10 000 000 000",value:p})),n.a.createElement("div",{className:"mortgage-form__input mortgage-form__input_part mortgage-form__input_rub"},n.a.createElement("label",null,"\u041f\u0435\u0440\u0432\u043e\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439 \u0432\u0437\u043d\u043e\u0441"),n.a.createElement(Q,null),n.a.createElement("input",{onInput:function(e){m(e.target,5e9),v(e.target.value)},placeholder:"\u0414\u043e 5 000 000 000",value:d,disabled:M})),n.a.createElement("div",{className:"mortgage-form__anchors"},n.a.createElement("input",{className:"mortgage-form__anchor mortgage-form__anchor_10",type:"radio",name:"anchor",value:"10",onChange:function(e){return H(e.target.value)}}),n.a.createElement("input",{className:"mortgage-form__anchor mortgage-form__anchor_15",type:"radio",name:"anchor",value:"15",onChange:function(e){return H(e.target.value)}}),n.a.createElement("input",{className:"mortgage-form__anchor mortgage-form__anchor_20",type:"radio",name:"anchor",value:"20",onChange:function(e){return H(e.target.value)}}),n.a.createElement("input",{className:"mortgage-form__anchor mortgage-form__anchor_25",type:"radio",name:"anchor",value:"25",onChange:function(e){return H(e.target.value)}}),n.a.createElement("input",{className:"mortgage-form__anchor mortgage-form__anchor_30",type:"radio",name:"anchor",value:"30",onChange:function(e){return H(e.target.value)}})),n.a.createElement("div",{className:"mortgage-form__input mortgage-form__input_year"},n.a.createElement("label",null,"\u0421\u0440\u043e\u043a \u043a\u0440\u0435\u0434\u0438\u0442\u0430"),n.a.createElement("input",{onInput:function(e){m(e.target,30),b(e.target.value)},placeholder:"\u0414\u043e 30",value:y})),n.a.createElement("div",{className:"mortgage-form__input mortgage-form__input_perc"},n.a.createElement("label",null,"\u041f\u0440\u043e\u0446\u0435\u043d\u0442\u043d\u0430\u044f \u0441\u0442\u0430\u0432\u043a\u0430"),n.a.createElement("input",{onInput:function(e){m(e.target,30),j(e.target.value)},placeholder:"\u0414\u043e 30",value:N})),n.a.createElement("div",{className:"mortgage-form__buttons"},n.a.createElement(K,null),n.a.createElement(L,null))),n.a.createElement(u,{loanBody:k.loanBody,monthlyPayment:k.monthlyPayment,requiredIncome:k.requiredIncome,overpayment:k.overpayment}))},p=(a(11),function(){return n.a.createElement("div",{className:"mortgage-calc"},n.a.createElement("h1",{className:"mortgage-calc__header"},"\u0418\u043f\u043e\u0442\u0435\u0447\u043d\u044b\u0439 \u043a\u0430\u043b\u044c\u043a\u0443\u043b\u044f\u0442\u043e\u0440 \ud83c\udfe1"),n.a.createElement(i,null))});l.a.render(n.a.createElement(p,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.d1a92d72.chunk.js.map