{"version":3,"sources":["helpers/calc.js","helpers/validate.js","components/input/index.js","components/input/input.js","components/anchors/index.js","components/anchors/anchors.js","components/button/button.js","components/results/index.js","components/results/results.js","components/form/index.js","components/form/form.js","components/app/index.js","components/app/app.js","index.js"],"names":["calc","price","part","time","percent","result","loanBody","monthlyPayment","overpayment","requiredIncome","months","calcLoanBody","numPrice","replace","numPart","resultLoanBody","Math","round","toString","calcMonthlyPayment","numPercent","resultMonthlyPayment","pow","Infinity","calcRequiredIncome","resultRequiredIncome","calcOverpayment","resultOverpayment","validate","eventTarget","max","value","Input","classList","label","placeholder","validateNum","action","className","onChange","e","target","Anchors","onClick","listItems","map","number","type","name","key","Button","preventDefault","Results","Form","savedPrice","localStorage","getItem","savedPart","savedTime","savedPercent","useState","setPrice","setPart","setTime","setPercent","data","setData","factor","setFactor","useEffect","val","setItem","clear","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.19980049.chunk.js","sourcesContent":["const calc = (price = '0', part = '0', time = '0', percent = '0') => {\n  let result = {\n    loanBody: 0,\n    monthlyPayment: 0,\n    overpayment: 0,\n    requiredIncome: 0,\n  };\n  const months = +time * 12;\n\n  const calcLoanBody = (price, part) => {\n    const numPrice = +(price.replace(/\\s/g, \"\"));\n    const numPart = +(part.replace(/\\s/g, \"\"));\n\n    const resultLoanBody = Math.round(numPrice - numPart);\n\n    if (typeof resultLoanBody == 'number' && resultLoanBody >= 0) {\n      result.loanBody = resultLoanBody.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n    } else {\n      result.loanBody = '0';\n    }\n  };\n\n  const calcMonthlyPayment = (percent, months) => {\n    const numPercent = +(percent.replace(/\\s/g, \"\"));\n    const resultLoanBody = +(result.loanBody.replace(/\\s/g, \"\"));\n\n    const resultMonthlyPayment = Math.round(resultLoanBody *\n      (numPercent/1200 + ((numPercent/1200)/(Math.pow((1 + (numPercent/1200)), months) - 1))));\n\n      if (typeof resultMonthlyPayment == 'number' && resultMonthlyPayment >= 0 && resultMonthlyPayment !== Infinity) {\n        result.monthlyPayment = resultMonthlyPayment.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n      } else {\n        result.monthlyPayment = '0';\n      }\n  };\n\n  const calcRequiredIncome = () => {\n    const resultMonthlyPayment = result.monthlyPayment.replace(/\\s/g, \"\");\n\n    const resultRequiredIncome = Math.round(5 * (+resultMonthlyPayment/3));\n\n    if (typeof resultRequiredIncome == 'number' && resultRequiredIncome >= 0 && resultRequiredIncome !== Infinity) {\n      result.requiredIncome = resultRequiredIncome.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n    } else {\n      result.requiredIncome = '0';\n    }\n  };\n\n  const calcOverpayment = (price, part, months) => {\n    const numPrice = +(price.replace(/\\s/g, \"\"));\n    const numPart = +(part.replace(/\\s/g, \"\"));\n    const resultMonthlyPayment = result.monthlyPayment.replace(/\\s/g, \"\");\n\n    const resultOverpayment = Math.round(resultMonthlyPayment * months - numPrice + numPart);\n\n    if (typeof resultOverpayment == 'number' && resultOverpayment >= 0 && numPrice > numPart) {\n      result.overpayment = resultOverpayment.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n    } else {\n      result.overpayment = '0';\n    }\n  };\n\n  calcLoanBody(price, part);\n  calcMonthlyPayment(percent, months);\n  calcRequiredIncome();\n  calcOverpayment(price, part, months);\n\n  return result;\n};\n\nexport default calc;","const validate = (eventTarget, max) => {\n    eventTarget.value = eventTarget.value.replace(/[^0-9]/g,'');\n    const nValue = eventTarget.value.replace(/\\s/g, \"\");\n\n    if (+nValue <= max) {\n        eventTarget.value = eventTarget.value.replace(/^0+/, '');\n        eventTarget.value = eventTarget.value.replace(/(\\..*)\\./g, '$1');\n    } else {\n        eventTarget.value = max;\n        eventTarget.value = eventTarget.value.replace(/(\\..*)\\./g, '$1');\n    }\n    \n    eventTarget.value = eventTarget.value.replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \");\n};\n\nexport default validate;","import Input from './input.js';\nexport default Input;","import React from 'react';\nimport './input.sass';\nimport validate from \"../../helpers/validate\";\n\nconst Input = ({ classList, label, placeholder, value, validateNum, action }) => {\n    return (\n        <div className={`mortgage-input ${classList}`}>\n            <label>{label}</label>\n            <input onChange={e => {\n                validate(e.target, validateNum);\n                action(e.target.value);\n            }}\n                   placeholder={placeholder}\n                   value={value}/>\n        </div>\n    );\n}\n\nexport default Input;","import Anchors from './anchors.js';\nexport default Anchors;","import React from 'react';\nimport './anchors.sass';\n\nconst Anchors = ({ onClick }) => {\n    const anchor = (value) => {\n        onClick(value);\n    };\n\n    const listItems = ['10', '15', '20', '25', '30'].map((number) =>\n        <input className={`mortgage-anchors__anchor mortgage-anchors__anchor--${number}`}\n               type=\"radio\"\n               name=\"anchor\"\n               value={number}\n               key={number}\n               onChange={e => anchor(e.target.value)}/>\n    );\n\n    return (\n        <div className=\"mortgage-anchors\">\n            {listItems}\n        </div>\n    );\n}\n\nexport default Anchors;","import React from 'react';\nimport \"./button.sass\";\n\nconst Button = ({name, action}) => {\n    return (\n        <button className=\"mortgage-button\" onClick={e => {\n            e.preventDefault();\n            action();\n        }}>{name}</button>\n    );\n};\n\nexport default Button;","import Results from './results.js';\nexport default Results;","import React from 'react';\nimport \"./results.sass\";\n\nconst Results = ({ loanBody, monthlyPayment, requiredIncome, overpayment }) => {\n  \n  return (\n    <div className=\"mortgage-results\">\n      <div className=\"mortgage-results__item\">\n          <p>Тело кредита</p>\n          <b>{loanBody || '0'} ₽</b>\n      </div>\n      <div className=\"mortgage-results__item\">\n          <p>Ежемесяный платеж</p>\n          <b>{monthlyPayment || '0'} ₽</b>\n      </div>\n      <div className=\"mortgage-results__item\">\n          <p>Необходимый доход</p>\n          <b>{requiredIncome || '0'} ₽</b>\n      </div>\n      <div className=\"mortgage-results__item\">\n          <p>Переплата</p>\n          <b>{overpayment || '0'} ₽</b>\n      </div>\n    </div>\n  );\n}\n\nexport default Results;","import Form from './form.js';\nexport default Form;","import React, {useState, useEffect} from 'react';\nimport './form.sass';\nimport calc from '../../helpers/calc';\nimport Input from \"../input\";\nimport Anchors from \"../anchors\";\nimport Button from \"../button/button\";\nimport Results from '../results';\n\nconst Form = () => {\n    const savedPrice = localStorage.getItem('price');\n    const savedPart = localStorage.getItem('part');\n    const savedTime = localStorage.getItem('time');\n    const savedPercent = localStorage.getItem('percent');\n\n    const [price, setPrice] = useState(savedPrice || '');\n    const [part, setPart] = useState(savedPart || '');\n    const [time, setTime] = useState(savedTime || '');\n    const [percent, setPercent] = useState(savedPercent || '');\n\n    const [data, setData] = useState({\n        loanBody: 0,\n        monthlyPayment: 0,\n        requiredIncome: 0,\n        overpayment: 0,\n    });\n    const [factor, setFactor] = useState(false);\n\n    useEffect(() => setData(calc(price, part, time, percent)), [price, part, time, percent]);\n\n    useEffect(() => {\n        const numPrice = +(price.replace(/\\s/g, \"\"));\n        if (factor) setPart(Math.round(+numPrice * factor / 100)\n            .toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \"));\n    }, [price, factor]);\n\n    const save = () => {\n        localStorage.setItem('price', price);\n        localStorage.setItem('part', part);\n        localStorage.setItem('time', time);\n        localStorage.setItem('percent', percent);\n    };\n    const clear = () => {\n        setPrice('');\n        setPart('');\n        setTime('');\n        setPercent('');\n\n        setData({\n            loanBody: 0,\n            monthlyPayment: 0,\n            requiredIncome: 0,\n            overpayment: 0,\n        });\n        setFactor(false);\n\n        localStorage.clear();\n    };\n\n    return (\n        <div>\n            <form className=\"mortgage-form\">\n                <Input label=\"Стоимость недвижимости\"\n                       classList=\"mortgage-input--rub\"\n                       placeholder=\"До 10 000 000 000\"\n                       value={price}\n                       validateNum=\"10000000000\"\n                       action={val => setPrice(val)}/>\n                <Input label={\"Первоначальный взнос\"}\n                       classList=\"mortgage-input--part mortgage-input--rub\"\n                       placeholder=\"До 5 000 000 000\"\n                       value={part}\n                       validateNum=\"5000000000\"\n                       action={val => setPart(val)}/>\n                <Anchors onClick={val => setFactor(val)}/>\n                <Input label=\"Срок кредита\"\n                       classList=\"mortgage-input--year\"\n                       placeholder=\"До 30\"\n                       value={time}\n                       validateNum=\"30\"\n                       action={val => setTime(val)}/>\n                <Input label=\"Процентная ставка\"\n                       classList=\"mortgage-input--perc\"\n                       placeholder=\"До 30\"\n                       value={percent}\n                       validateNum=\"30\"\n                       action={val => setPercent(val)}/>\n                <div className=\"mortgage-form__buttons\">\n                    <Button name=\"Сохранить\" action={save}/>\n                    <Button name=\"Очистить\" action={clear}/>\n                </div>\n            </form>\n            <Results loanBody={data.loanBody}\n                     monthlyPayment={data.monthlyPayment}\n                     requiredIncome={data.requiredIncome}\n                     overpayment={data.overpayment}/>\n        </div>\n    );\n}\n\nexport default Form;","import App from './app.js';\nexport default App;","import React from 'react';\nimport Form from '../form';\nimport './app.sass';\n\nconst App = () => {\n  \n  return (\n    <div className=\"mortgage-calc\">\n      <h1 className=\"mortgage-calc__header\">Ипотечный калькулятор 🏡</h1>\n      <Form />\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/app';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}